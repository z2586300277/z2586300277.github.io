<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GLSL ä¸­æ–‡æ‰‹å†Œ | ä¼˜é›…æ°¸ä¸è¿‡æ—¶</title>
    <meta name="description" content="ä¼˜é›…æ°¸ä¸è¿‡æ—¶çš„ä¸ªäººä¸»é¡µ">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.zv-5itfq.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.D8ya-9Qh.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CJKDGK4h.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CDjunVez.js">
    <link rel="modulepreload" href="/assets/glsl.md.Ca76KJ6h.lean.js">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LKJQBJNGVF"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8697430839896878" crossorigin="anonymous"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LKJQBJNGVF");</script>
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?85aef82369b0fe002f0e62a775344e89";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://z2586300277.github.io/site.png" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>ä¼˜é›…æ°¸ä¸è¿‡æ—¶</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/message.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>ç•™è¨€ğŸ“</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/works.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>3Då±•ç¤ºğŸ‚</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/sponsor.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>èµèµğŸ‘</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/personalCode.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>äºŒç»´ç ğŸ“±</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/resource.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>èµ„æºğŸ’™</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://www.goofish.com/personal?userId=2885508577" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>é—²é±¼ğŸŸ</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://z2586300277.taobao.com/" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>æ·˜å®ğŸ¸</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://gitee.com/zhang-jingguang" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>GiteeğŸ³</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://space.bilibili.com/245165721" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>BiBiğŸ“º</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://blog.csdn.net/guang2586" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>CSDNğŸ“˜</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/z2586300277" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/z2586300277" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _glsl" data-v-e6f2a212><div><h1 id="glsl-ä¸­æ–‡æ‰‹å†Œ" tabindex="-1">GLSL ä¸­æ–‡æ‰‹å†Œ <a class="header-anchor" href="#glsl-ä¸­æ–‡æ‰‹å†Œ" aria-label="Permalink to &quot;GLSL ä¸­æ–‡æ‰‹å†Œ&quot;">â€‹</a></h1><h2 id="åŸºæœ¬ç±»å‹" tabindex="-1">åŸºæœ¬ç±»å‹: <a class="header-anchor" href="#åŸºæœ¬ç±»å‹" aria-label="Permalink to &quot;åŸºæœ¬ç±»å‹:&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>void</strong></td><td>ç©ºç±»å‹,å³ä¸è¿”å›ä»»ä½•å€¼</td></tr><tr><td><strong>bool</strong></td><td>å¸ƒå°”ç±»å‹ true,false</td></tr><tr><td><strong>int</strong></td><td>å¸¦ç¬¦å·çš„æ•´æ•° signed integer</td></tr><tr><td><strong>float</strong></td><td>å¸¦ç¬¦å·çš„æµ®ç‚¹æ•° floating scalar</td></tr><tr><td><strong>vec2, vec3, vec4</strong></td><td>nç»´æµ®ç‚¹æ•°å‘é‡ n-component floating point vector</td></tr><tr><td><strong>bvec2, bvec3, bvec4</strong></td><td>nç»´å¸ƒå°”å‘é‡ Boolean vector</td></tr><tr><td><strong>ivec2, ivec3, ivec4</strong></td><td>nç»´æ•´æ•°å‘é‡ signed integer vector</td></tr><tr><td><strong>mat2, mat3, mat4</strong></td><td>2x2, 3x3, 4x4 æµ®ç‚¹æ•°çŸ©é˜µ float matrix</td></tr><tr><td><strong>sampler2D</strong></td><td>2Dçº¹ç† a 2D texture</td></tr><tr><td><strong>samplerCube</strong></td><td>ç›’çº¹ç† cube mapped texture</td></tr></tbody></table><h2 id="åŸºæœ¬ç»“æ„å’Œæ•°ç»„" tabindex="-1">åŸºæœ¬ç»“æ„å’Œæ•°ç»„: <a class="header-anchor" href="#åŸºæœ¬ç»“æ„å’Œæ•°ç»„" aria-label="Permalink to &quot;åŸºæœ¬ç»“æ„å’Œæ•°ç»„:&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç»“æ„</td><td>struct type-name{} ç±»ä¼¼cè¯­è¨€ä¸­çš„ ç»“æ„ä½“</td></tr><tr><td>æ•°ç»„</td><td>float foo[3] glslåªæ”¯æŒ1ç»´æ•°ç»„,æ•°ç»„å¯ä»¥æ˜¯ç»“æ„ä½“çš„æˆå‘˜</td></tr></tbody></table><h2 id="å‘é‡çš„åˆ†é‡è®¿é—®" tabindex="-1">å‘é‡çš„åˆ†é‡è®¿é—®: <a class="header-anchor" href="#å‘é‡çš„åˆ†é‡è®¿é—®" aria-label="Permalink to &quot;å‘é‡çš„åˆ†é‡è®¿é—®:&quot;">â€‹</a></h2><p>glslä¸­çš„å‘é‡(vec2,vec3,vec4)å¾€å¾€æœ‰ç‰¹æ®Šçš„å«ä¹‰,æ¯”å¦‚å¯èƒ½ä»£è¡¨äº†ä¸€ä¸ªç©ºé—´åæ ‡(x,y,z,w),æˆ–è€…ä»£è¡¨äº†ä¸€ä¸ªé¢œè‰²(r,g,b,a),å†æˆ–è€…ä»£è¡¨ä¸€ä¸ªçº¹ç†åæ ‡(s,t,p,q) æ‰€ä»¥glslæä¾›äº†ä¸€äº›æ›´äººæ€§åŒ–çš„åˆ†é‡è®¿é—®æ–¹å¼.</p><p><code>vector.xyzw</code> å…¶ä¸­xyzw å¯ä»¥ä»»æ„ç»„åˆ</p><p><code>vector.rgba</code> å…¶ä¸­rgba å¯ä»¥ä»»æ„ç»„åˆ</p><p><code>vector.stpq</code> å…¶ä¸­rgba å¯ä»¥ä»»æ„ç»„åˆ</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec4 v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.x;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //1.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.r;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //1.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //1.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 xyz </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.xyz;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //vec3(1.0,2.0,3.0)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 xyz1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],v[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],v[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //vec3(1.0,2.0,3.0)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 rgb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.rgb;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //vec3(1.0,2.0,3.0)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec2 xy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.xy;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //vec2(1.0,2.0);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec2 rg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.rg;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //vec2(1.0,2.0);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec4 xyzw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.xyzw;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //vec4(1.0,2.0,3.0,1.0);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec4 rgba </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.rgba;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //vec4(1.0,2.0,3.0,1.0);</span></span></code></pre></div><h2 id="è¿ç®—ç¬¦" tabindex="-1">è¿ç®—ç¬¦: <a class="header-anchor" href="#è¿ç®—ç¬¦" aria-label="Permalink to &quot;è¿ç®—ç¬¦:&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ä¼˜å…ˆçº§(è¶Šå°è¶Šé«˜)</th><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ç»“åˆæ€§</th></tr></thead><tbody><tr><td>1</td><td><strong>()</strong></td><td>èšç»„:a*(b+c)</td><td>N/A</td></tr><tr><td>2</td><td><strong>[] () . ++ --</strong></td><td>æ•°ç»„ä¸‹æ ‡__[]<strong>,æ–¹æ³•å‚æ•°__fun(arg1,arg2,arg3)</strong>,å±æ€§è®¿é—®__a.b__,è‡ªå¢/å‡åç¼€__a++ a--__</td><td>L - R</td></tr><tr><td>3</td><td><strong>++ -- + - !</strong></td><td>è‡ªå¢/å‡å‰ç¼€__++a --a__,æ­£è´Ÿå·(ä¸€èˆ¬æ­£å·ä¸å†™)<strong>a ,-a</strong>,å–å__!false__</td><td>R - L</td></tr><tr><td>4</td><td><strong>* /</strong></td><td>ä¹˜é™¤æ•°å­¦è¿ç®—</td><td>L - R</td></tr><tr><td>5</td><td><strong>+ -</strong></td><td>åŠ å‡æ•°å­¦è¿ç®—</td><td>L - R</td></tr><tr><td>7</td><td><strong>&lt; &gt; &lt;= &gt;=</strong></td><td>å…³ç³»è¿ç®—ç¬¦</td><td>L - R</td></tr><tr><td>8</td><td><strong>== !=</strong></td><td>ç›¸ç­‰æ€§è¿ç®—ç¬¦</td><td>L - R</td></tr><tr><td>12</td><td><strong>&amp;&amp;</strong></td><td>é€»è¾‘ä¸</td><td>L - R</td></tr><tr><td>13</td><td><strong>^^</strong></td><td>é€»è¾‘æ’ä»–æˆ–(ç”¨å¤„åŸºæœ¬ç­‰äº!=)</td><td>L - R</td></tr><tr><td>14</td><td><strong>||</strong></td><td>é€»è¾‘æˆ–</td><td>L - R</td></tr><tr><td>15</td><td><strong>? :</strong></td><td>ä¸‰ç›®è¿ç®—ç¬¦</td><td>L - R</td></tr><tr><td>16</td><td><strong>= += -= *= /=</strong></td><td>èµ‹å€¼ä¸å¤åˆèµ‹å€¼</td><td>L - R</td></tr><tr><td>17</td><td><strong>,</strong></td><td>é¡ºåºåˆ†é…è¿ç®—</td><td>L - R</td></tr></tbody></table><p><em>ps å·¦å€¼ä¸å³å€¼:</em></p><pre><code>å·¦å€¼:è¡¨ç¤ºä¸€ä¸ªå‚¨å­˜ä½ç½®,å¯ä»¥æ˜¯å˜é‡,ä¹Ÿå¯ä»¥æ˜¯è¡¨è¾¾å¼,ä½†è¡¨è¾¾å¼æœ€åçš„ç»“æœå¿…é¡»æ˜¯ä¸€ä¸ªå‚¨å­˜ä½ç½®.

å³å€¼:è¡¨ç¤ºä¸€ä¸ªå€¼, å¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡æˆ–è€…è¡¨è¾¾å¼å†æˆ–è€…çº¯ç²¹çš„å€¼.

æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ï¼šå†³å®šå«æœ‰å¤šä¸ªæ“ä½œç¬¦çš„è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåºï¼Œæ¯ä¸ªæ“ä½œçš„ä¼˜å…ˆçº§ä¸åŒ.

æ“ä½œç¬¦çš„ç»“åˆæ€§ï¼šå†³å®šç›¸åŒä¼˜å…ˆçº§çš„æ“ä½œç¬¦æ˜¯ä»å·¦åˆ°å³è®¡ç®—ï¼Œè¿˜æ˜¯ä»å³åˆ°å·¦è®¡ç®—ã€‚
</code></pre><h2 id="åŸºç¡€ç±»å‹é—´çš„è¿ç®—" tabindex="-1">åŸºç¡€ç±»å‹é—´çš„è¿ç®—: <a class="header-anchor" href="#åŸºç¡€ç±»å‹é—´çš„è¿ç®—" aria-label="Permalink to &quot;åŸºç¡€ç±»å‹é—´çš„è¿ç®—:&quot;">â€‹</a></h2><p>glslä¸­,æ²¡æœ‰éšå¼ç±»å‹è½¬æ¢,åŸåˆ™ä¸Šglslè¦æ±‚ä»»ä½•è¡¨è¾¾å¼å·¦å³ä¸¤ä¾§(l-value),(r-value)çš„ç±»å‹å¿…é¡»ä¸€è‡´ ä¹Ÿå°±æ˜¯è¯´ä»¥ä¸‹è¡¨è¾¾å¼éƒ½æ˜¯é”™è¯¯çš„:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //é”™è¯¯,r-valueä¸ºfloat è€Œ lvalue ä¸ºint.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p><strong>ä¸‹é¢æ¥åˆ†åˆ«è¯´è¯´å¯èƒ½é‡åˆ°çš„æƒ…å†µ:</strong></p><p><strong>1.<code>float</code> ä¸ <code>int</code>:</strong></p><p>floatä¸float , intä¸intä¹‹é—´æ˜¯å¯ä»¥ç›´æ¥è¿ç®—çš„,ä½†floatä¸intä¸è¡Œ.å®ƒä»¬éœ€è¦è¿›è¡Œä¸€æ¬¡æ˜¾ç¤ºè½¬æ¢.å³è¦ä¹ˆæŠŠfloatè½¬æˆint: <strong>int(1.0)</strong> ,è¦ä¹ˆæŠŠintè½¬æˆfloat: <strong>float(1)</strong> ,ä»¥ä¸‹è¡¨è¾¾å¼éƒ½æ˜¯æ­£ç¡®çš„:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">int a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">float a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">int a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">float a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p><strong>2.<code>float</code> ä¸ <code>vec(å‘é‡)</code> <code>mat(çŸ©é˜µ)</code>:</strong></p><p>vec,matè¿™äº›ç±»å‹å…¶å®æ˜¯ç”±floatå¤åˆè€Œæˆçš„,å½“å®ƒä»¬ä¸floatè¿ç®—æ—¶,å…¶å®å°±æ˜¯åœ¨æ¯ä¸€ä¸ªåˆ†é‡ä¸Šåˆ†åˆ«ä¸floatè¿›è¡Œè¿ç®—,è¿™å°±æ˜¯æ‰€è°“çš„<code>é€åˆ†é‡</code>è¿ç®—.glslé‡Œ å¤§éƒ¨åˆ†æ¶‰åŠvec,matçš„è¿ç®—éƒ½æ˜¯<code>é€åˆ†é‡</code>è¿ç®—,ä½†ä¹Ÿå¹¶ä¸å…¨æ˜¯. ä¸‹æ–‡ä¸­å°±ä¼šè®²åˆ°ç‰¹ä¾‹.</p><p><code>é€åˆ†é‡</code>è¿ç®—æ˜¯çº¿æ€§çš„,è¿™å°±æ˜¯è¯´ vec ä¸ float çš„è¿ç®—ç»“æœæ˜¯è¿˜æ˜¯ vec.</p><p>int ä¸ vec,matä¹‹é—´æ˜¯ä¸å¯è¿ç®—çš„, å› ä¸ºvecå’Œmatä¸­çš„æ¯ä¸€ä¸ªåˆ†é‡éƒ½æ˜¯ float ç±»å‹çš„. æ— æ³•ä¸intè¿›è¡Œé€åˆ†é‡è®¡ç®—.</p><p>ä¸‹é¢æšä¸¾äº†å‡ ç§ float ä¸ vec,mat è¿ç®—çš„æƒ…å†µ</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat3 m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mat3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // vec3(10.0, 20.0, 30.0)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // vec3(10.0, 20.0, 30.0)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat3 m2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // = mat3(10.0)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat3 m3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // = mat3(10.0)</span></span></code></pre></div><p><strong>3. <code>vec(å‘é‡)</code> ä¸ <code>vec(å‘é‡)</code>:</strong></p><p>ä¸¤å‘é‡é—´çš„è¿ç®—é¦–å…ˆè¦ä¿è¯æ“ä½œæ•°çš„é˜¶æ•°éƒ½ç›¸åŒ.å¦åˆ™ä¸èƒ½è®¡ç®—.ä¾‹å¦‚: vec3*vec2 vec4+vec3 ç­‰ç­‰éƒ½æ˜¯ä¸è¡Œçš„.</p><p>å®ƒä»¬çš„è®¡ç®—æ–¹å¼æ˜¯ä¸¤æ“ä½œæ•°åœ¨åŒä½ç½®ä¸Šçš„åˆ†é‡åˆ†åˆ«è¿›è¡Œè¿ç®—,å…¶æœ¬è´¨è¿˜æ˜¯é€åˆ†é‡è¿›è¡Œçš„,è¿™å’Œä¸Šé¢æ‰€è¯´çš„floatç±»å‹çš„ é€åˆ†é‡è¿ç®—å¯èƒ½æœ‰ä¸€ç‚¹ç‚¹å·®å¼‚,ç›¸åŒçš„æ˜¯ vec ä¸ vec è¿ç®—ç»“æœè¿˜æ˜¯ vec, ä¸”é˜¶æ•°ä¸å˜.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // = vec3(1.1, 2.2, 3.3)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // = vec3(0.1, 0.4, 0.9)</span></span></code></pre></div><p><img src="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-35_329___2.png" alt=""></p><p><strong>3. <code>vec(å‘é‡)</code> ä¸ <code>mat(çŸ©é˜µ)</code>:</strong></p><p>è¦ä¿è¯æ“ä½œæ•°çš„é˜¶æ•°ç›¸åŒ,ä¸”vecä¸maté—´åªå­˜åœ¨ä¹˜æ³•è¿ç®—.</p><p>å®ƒä»¬çš„è®¡ç®—æ–¹å¼å’Œçº¿æ€§ä»£æ•°ä¸­çš„çŸ©é˜µä¹˜æ³•ç›¸åŒ,ä¸æ˜¯é€åˆ†é‡è¿ç®—.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec2 v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat2 m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mat2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec2 w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // = vec2(1. * 10. + 3. * 20., 2. * 10. + 4. * 20.)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec2 v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat2 m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mat2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec2 w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // = vec2(1. * 10. + 2. * 20., 3. * 10. + 4. * 20.)</span></span></code></pre></div><p>å‘é‡ä¸çŸ©é˜µçš„ä¹˜æ³•è§„åˆ™å¦‚ä¸‹:</p><p><img src="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_966___3.png" alt=""></p><p><img src="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_284___4.png" alt=""></p><p><strong>4. <code>mat(çŸ©é˜µ)</code> ä¸ <code>mat(çŸ©é˜µ)</code>:</strong></p><p>è¦ä¿è¯æ“ä½œæ•°çš„é˜¶æ•°ç›¸åŒ.</p><p>åœ¨matä¸matçš„è¿ç®—ä¸­, é™¤äº†ä¹˜æ³•æ˜¯çº¿æ€§ä»£æ•°ä¸­çš„çŸ©é˜µä¹˜æ³•å¤–.å…¶ä½™çš„è¿ç®—ä»»ä¸ºé€åˆ†é‡è¿ç®—.ç®€å•è¯´å°±æ˜¯åªæœ‰ä¹˜æ³•æ˜¯ç‰¹æ®Šçš„,å…¶ä½™éƒ½å’Œvecä¸vecè¿ç®—ç±»ä¼¼.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat2 a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mat2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat2 b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mat2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat2 c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //mat2(1.*10.+3.*20.,2.*10.+4.*20.,1.* 30.+3.*40.,2.* 30.+4.*40.);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mat2 d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//mat2(1.+10.,2.+20.,3.+30.,4.+40);</span></span></code></pre></div><p>çŸ©é˜µä¹˜æ³•è§„åˆ™å¦‚ä¸‹:</p><p><img src="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_985___5.png" alt=""></p><h2 id="å˜é‡é™å®šç¬¦" tabindex="-1">å˜é‡é™å®šç¬¦: <a class="header-anchor" href="#å˜é‡é™å®šç¬¦" aria-label="Permalink to &quot;å˜é‡é™å®šç¬¦:&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ä¿®é¥°ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>none</strong></td><td>(é»˜è®¤çš„å¯çœç•¥)æœ¬åœ°å˜é‡,å¯è¯»å¯å†™,å‡½æ•°çš„è¾“å…¥å‚æ•°æ—¢æ˜¯è¿™ç§ç±»å‹</td></tr><tr><td><strong>const</strong></td><td>å£°æ˜å˜é‡æˆ–å‡½æ•°çš„å‚æ•°ä¸ºåªè¯»ç±»å‹</td></tr><tr><td><strong>attribute</strong></td><td>åªèƒ½å­˜åœ¨äºvertex shaderä¸­,ä¸€èˆ¬ç”¨äºä¿å­˜é¡¶ç‚¹æˆ–æ³•çº¿æ•°æ®,å®ƒå¯ä»¥åœ¨æ•°æ®ç¼“å†²åŒºä¸­è¯»å–æ•°æ®</td></tr><tr><td><strong>uniform</strong></td><td>åœ¨è¿è¡Œæ—¶shaderæ— æ³•æ”¹å˜uniformå˜é‡, ä¸€èˆ¬ç”¨æ¥æ”¾ç½®ç¨‹åºä¼ é€’ç»™shaderçš„å˜æ¢çŸ©é˜µï¼Œæè´¨ï¼Œå…‰ç…§å‚æ•°ç­‰ç­‰.</td></tr><tr><td><strong>varying</strong></td><td>ä¸»è¦è´Ÿè´£åœ¨vertex å’Œ fragment ä¹‹é—´ä¼ é€’å˜é‡</td></tr></tbody></table><p><strong>const</strong>:</p><p>å’ŒCè¯­è¨€ç±»ä¼¼,è¢«consté™å®šç¬¦ä¿®é¥°çš„å˜é‡åˆå§‹åŒ–åä¸å¯å˜,é™¤äº†å±€éƒ¨å˜é‡,å‡½æ•°å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨constä¿®é¥°ç¬¦.ä½†è¦æ³¨æ„çš„æ˜¯ç»“æ„å˜é‡å¯ä»¥ç”¨constä¿®é¥°, ä½†ç»“æ„ä¸­çš„å­—æ®µä¸è¡Œ.</p><p>constå˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶å°±åˆå§‹åŒ– <code>const vec3 v3 = vec3(0.,0.,0.)</code></p><p>å±€éƒ¨å˜é‡åªèƒ½ä½¿ç”¨consté™å®šç¬¦.</p><p>å‡½æ•°å‚æ•°åªèƒ½ä½¿ç”¨consté™å®šç¬¦.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> light</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        vec4 color;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        vec3 pos;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //const vec3 pos1;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //ç»“æ„ä¸­çš„å­—æ®µä¸å¯ç”¨constä¿®é¥°ä¼šæŠ¥é”™.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> light lgt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> light</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //ç»“æ„å˜é‡å¯ä»¥ç”¨constä¿®é¥°</span></span></code></pre></div><p><strong>attribute</strong>:</p><p>attributeå˜é‡æ˜¯<code>å…¨å±€</code>ä¸”<code>åªè¯»</code>çš„,å®ƒåªèƒ½åœ¨vertex shaderä¸­ä½¿ç”¨,åªèƒ½ä¸æµ®ç‚¹æ•°,å‘é‡æˆ–çŸ©é˜µå˜é‡ç»„åˆ, ä¸€èˆ¬attributeå˜é‡ç”¨æ¥æ”¾ç½®ç¨‹åºä¼ é€’æ¥çš„æ¨¡å‹é¡¶ç‚¹,æ³•çº¿,é¢œè‰²,çº¹ç†ç­‰æ•°æ®å®ƒå¯ä»¥è®¿é—®æ•°æ®ç¼“å†²åŒº (è¿˜è®°å¾—__gl.vertexAttribPointer__è¿™ä¸ªå‡½æ•°å§)</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">attribute vec4 a_Position;</span></span></code></pre></div><p><strong>uniform</strong>:</p><p>uniformå˜é‡æ˜¯<code>å…¨å±€</code>ä¸”<code>åªè¯»</code>çš„,åœ¨æ•´ä¸ªshaderæ‰§è¡Œå®Œæ¯•å‰å…¶å€¼ä¸ä¼šæ”¹å˜,ä»–å¯ä»¥å’Œä»»æ„åŸºæœ¬ç±»å‹å˜é‡ç»„åˆ, ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨uniformå˜é‡æ¥æ”¾ç½®å¤–éƒ¨ç¨‹åºä¼ é€’æ¥çš„ç¯å¢ƒæ•°æ®(å¦‚ç‚¹å…‰æºä½ç½®,æ¨¡å‹çš„å˜æ¢çŸ©é˜µç­‰ç­‰) è¿™äº›æ•°æ®åœ¨è¿è¡Œä¸­æ˜¾ç„¶æ˜¯ä¸éœ€è¦è¢«æ”¹å˜çš„.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uniform vec4 lightPosition;</span></span></code></pre></div><p><strong>varying</strong>:</p><p>varyingç±»å‹å˜é‡æ˜¯ vertex shader ä¸ fragment shader ä¹‹é—´çš„ä¿¡ä½¿,ä¸€èˆ¬æˆ‘ä»¬åœ¨ vertex shader ä¸­ä¿®æ”¹å®ƒç„¶ååœ¨fragment shaderä½¿ç”¨å®ƒ,ä½†ä¸èƒ½åœ¨ fragment shaderä¸­ä¿®æ”¹å®ƒ.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//é¡¶ç‚¹ç€è‰²å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">varying vec4 v_Color;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    v_Color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ç‰‡å…ƒç€è‰²å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">varying vec4 v_Color;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v_Color;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span></code></pre></div><p>è¦æ³¨æ„å…¨å±€å˜é‡é™åˆ¶ç¬¦åªèƒ½ä¸º constã€attributeã€uniformå’Œvaryingä¸­çš„ä¸€ä¸ª.ä¸å¯å¤åˆ.</p><h2 id="å‡½æ•°å‚æ•°é™å®šç¬¦" tabindex="-1">å‡½æ•°å‚æ•°é™å®šç¬¦: <a class="header-anchor" href="#å‡½æ•°å‚æ•°é™å®šç¬¦" aria-label="Permalink to &quot;å‡½æ•°å‚æ•°é™å®šç¬¦:&quot;">â€‹</a></h2><p>å‡½æ•°çš„å‚æ•°é»˜è®¤æ˜¯ä»¥æ‹·è´çš„å½¢å¼ä¼ é€’çš„,ä¹Ÿå°±æ˜¯å€¼ä¼ é€’,ä»»ä½•ä¼ é€’ç»™å‡½æ•°å‚æ•°çš„å˜é‡,å…¶å€¼éƒ½ä¼šè¢«å¤åˆ¶ä¸€ä»½,ç„¶åå†äº¤ç»™å‡½æ•°å†…éƒ¨è¿›è¡Œå¤„ç†. æˆ‘ä»¬å¯ä»¥ä¸ºå‚æ•°æ·»åŠ é™å®šç¬¦æ¥è¾¾åˆ°ä¼ é€’å¼•ç”¨çš„ç›®çš„,glslä¸­æä¾›çš„å‚æ•°é™å®šç¬¦å¦‚ä¸‹:</p><table tabindex="0"><thead><tr><th>é™å®šç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&lt; none: default &gt;</td><td>é»˜è®¤ä½¿ç”¨ in é™å®šç¬¦</td></tr><tr><td>in</td><td>å¤åˆ¶åˆ°å‡½æ•°ä¸­åœ¨å‡½æ•°ä¸­å¯è¯»å†™</td></tr><tr><td>out</td><td>è¿”å›æ—¶ä»å‡½æ•°ä¸­å¤åˆ¶å‡ºæ¥</td></tr><tr><td>inout</td><td>å¤åˆ¶åˆ°å‡½æ•°ä¸­å¹¶åœ¨è¿”å›æ—¶å¤åˆ¶å‡ºæ¥</td></tr></tbody></table><p><code>in</code> æ˜¯å‡½æ•°å‚æ•°çš„é»˜è®¤é™å®šç¬¦,æœ€ç»ˆçœŸæ­£ä¼ å…¥å‡½æ•°å½¢å‚çš„å…¶å®æ˜¯å®å‚çš„ä¸€ä»½æ‹·è´.åœ¨å‡½æ•°ä¸­,ä¿®æ”¹inä¿®é¥°çš„å½¢å‚ä¸ä¼šå½±å“åˆ°å®å‚å˜é‡æœ¬èº«.</p><p><code>out</code> å®ƒçš„ä½œç”¨æ˜¯å‘å‡½æ•°å¤–éƒ¨ä¼ é€’æ–°å€¼,outæ¨¡å¼ä¸‹ä¼ é€’è¿›æ¥çš„å‚æ•°æ˜¯write-onlyçš„(å¯å†™ä¸å¯è¯»).å°±åƒæ˜¯ä¸€ä¸ª&quot;å‘ä½&quot;,å‘ä½ä¸­çš„å€¼éœ€è¦å‡½æ•°ç»™ä»–èµ‹äºˆ. åœ¨å‡½æ•°ä¸­,ä¿®æ”¹outä¿®é¥°çš„å½¢å‚ä¼šå½±å“åˆ°å®å‚æœ¬èº«.</p><p><code>inout</code> inoutä¸‹,å½¢å‚å¯ä»¥è¢«ç†è§£ä¸ºæ˜¯ä¸€ä¸ªå¸¦å€¼çš„&quot;å‘ä½&quot;,åŠå¯è¯»ä¹Ÿå¯å†™,åœ¨å‡½æ•°ä¸­,ä¿®æ”¹inoutä¿®é¥°çš„å½¢å‚ä¼šå½±å“åˆ°å®å‚æœ¬èº«.</p><h2 id="glslçš„å‡½æ•°" tabindex="-1">glslçš„å‡½æ•°: <a class="header-anchor" href="#glslçš„å‡½æ•°" aria-label="Permalink to &quot;glslçš„å‡½æ•°:&quot;">â€‹</a></h2><p>glslå…è®¸åœ¨ç¨‹åºçš„æœ€å¤–éƒ¨å£°æ˜å‡½æ•°.å‡½æ•°ä¸èƒ½åµŒå¥—,ä¸èƒ½é€’å½’è°ƒç”¨,ä¸”å¿…é¡»å£°æ˜è¿”å›å€¼ç±»å‹(æ— è¿”å›å€¼æ—¶å£°æ˜ä¸ºvoid) åœ¨å…¶ä»–æ–¹é¢glslå‡½æ•°ä¸cå‡½æ•°éå¸¸ç±»ä¼¼.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec4 v4 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v4;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doubleSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">inout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> psize</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    doubleSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(psize);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_Position </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    gl_PointSize </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> psize;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="æ„é€ å‡½æ•°" tabindex="-1">æ„é€ å‡½æ•°: <a class="header-anchor" href="#æ„é€ å‡½æ•°" aria-label="Permalink to &quot;æ„é€ å‡½æ•°:&quot;">â€‹</a></h2><p>glslä¸­å˜é‡å¯ä»¥åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–,<code>float pSize = 10.0</code> ä¹Ÿå¯ä»¥å…ˆå£°æ˜ç„¶åç­‰éœ€è¦çš„æ—¶å€™åœ¨è¿›è¡Œèµ‹å€¼.</p><p>èšåˆç±»å‹å¯¹è±¡å¦‚(å‘é‡,çŸ©é˜µ,æ•°ç»„,ç»“æ„) éœ€è¦ä½¿ç”¨å…¶æ„é€ å‡½æ•°æ¥è¿›è¡Œåˆå§‹åŒ–. <code>vec4 color = vec4(0.0, 1.0, 0.0, 1.0);</code></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ä¸€èˆ¬ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pSize </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pSize1;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pSize1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¤åˆç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec4 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec4 color1;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">color1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//ç»“æ„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> light</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> intensity;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    vec3 position;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">light lightVar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> light</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">](</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="ç±»å‹è½¬æ¢" tabindex="-1">ç±»å‹è½¬æ¢: <a class="header-anchor" href="#ç±»å‹è½¬æ¢" aria-label="Permalink to &quot;ç±»å‹è½¬æ¢:&quot;">â€‹</a></h2><p>glslå¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢,å„å€¼å¦‚ä¸‹:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //trueè½¬æ¢ä¸º1æˆ–1.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//falseè½¬æ¢ä¸º0æˆ–0.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(f);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//0æˆ–0.0è½¬æ¢ä¸ºfalse</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//é0è½¬æ¢ä¸ºtrue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="ç²¾åº¦é™å®š" tabindex="-1">ç²¾åº¦é™å®š: <a class="header-anchor" href="#ç²¾åº¦é™å®š" aria-label="Permalink to &quot;ç²¾åº¦é™å®š:&quot;">â€‹</a></h2><p>glslåœ¨è¿›è¡Œå…‰æ …åŒ–ç€è‰²çš„æ—¶å€™,ä¼šäº§ç”Ÿå¤§é‡çš„æµ®ç‚¹æ•°è¿ç®—,è¿™äº›è¿ç®—å¯èƒ½æ˜¯å½“å‰è®¾å¤‡æ‰€ä¸èƒ½æ‰¿å—çš„,æ‰€ä»¥glslæä¾›äº†3ç§æµ®ç‚¹æ•°ç²¾åº¦,æˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸åŒçš„è®¾å¤‡æ¥ä½¿ç”¨åˆé€‚çš„ç²¾åº¦.</p><p>åœ¨å˜é‡å‰é¢åŠ ä¸Š <code>highp</code> <code>mediump</code> <code>lowp</code> å³å¯å®Œæˆå¯¹è¯¥å˜é‡çš„ç²¾åº¦å£°æ˜.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>lowp float color;</span></span>
<span class="line"><span>varying mediump vec2 Coord;</span></span>
<span class="line"><span>lowp ivec2 foo(lowp mat3);</span></span>
<span class="line"><span>highp mat4 m;</span></span></code></pre></div><p>æˆ‘ä»¬ä¸€èˆ¬åœ¨ç‰‡å…ƒç€è‰²å™¨(fragment shader)æœ€å¼€å§‹çš„åœ°æ–¹åŠ ä¸Š <code>precision mediump float;</code> ä¾¿è®¾å®šäº†é»˜è®¤çš„ç²¾åº¦.è¿™æ ·æ‰€æœ‰æ²¡æœ‰æ˜¾å¼è¡¨æ˜ç²¾åº¦çš„å˜é‡ éƒ½ä¼šæŒ‰ç…§è®¾å®šå¥½çš„é»˜è®¤ç²¾åº¦æ¥å¤„ç†.</p><p><strong>å¦‚ä½•ç¡®å®šç²¾åº¦:</strong></p><p>å˜é‡çš„ç²¾åº¦é¦–å…ˆæ˜¯ç”±ç²¾åº¦é™å®šç¬¦å†³å®šçš„,å¦‚æœæ²¡æœ‰ç²¾åº¦é™å®šç¬¦,åˆ™è¦å¯»æ‰¾å…¶å³ä¾§è¡¨è¾¾å¼ä¸­,å·²ç»ç¡®å®šç²¾åº¦çš„å˜é‡,ä¸€æ—¦æ‰¾åˆ°,é‚£ä¹ˆæ•´ä¸ªè¡¨è¾¾å¼éƒ½å°†åœ¨è¯¥ç²¾åº¦ä¸‹è¿è¡Œ.å¦‚æœæ‰¾åˆ°å¤šä¸ª, åˆ™é€‰æ‹©ç²¾åº¦è¾ƒé«˜çš„é‚£ç§,å¦‚æœä¸€ä¸ªéƒ½æ‰¾ä¸åˆ°,åˆ™ä½¿ç”¨é»˜è®¤æˆ–æ›´å¤§çš„ç²¾åº¦ç±»å‹.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uniform highp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h1;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">highp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //è¿ç®—è¿‡ç¨‹å’Œç»“æœéƒ½ æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mediump </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.7</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h2;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //è¿ç®—è¿‡ç¨‹ æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h1;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //è¿ç®—è¿‡ç¨‹ æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> h2 â€“ h1;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //è¿ç®—è¿‡ç¨‹ æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //è¿ç®—è¿‡ç¨‹å’Œç»“æœéƒ½ æ˜¯ä¸­ç­‰ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">highp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // å½¢å‚ p æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //ä¼ å…¥çš„ 3.3æ˜¯é«˜ç²¾åº¦</span></span></code></pre></div><p><strong>invariantå…³é”®å­—:</strong></p><p>ç”±äºshaderåœ¨ç¼–è¯‘æ—¶ä¼šè¿›è¡Œä¸€äº›å†…éƒ¨ä¼˜åŒ–,å¯èƒ½ä¼šå¯¼è‡´åŒæ ·çš„è¿ç®—åœ¨ä¸åŒshaderé‡Œç»“æœä¸ä¸€å®šç²¾ç¡®ç›¸ç­‰.è¿™ä¼šå¼•èµ·ä¸€äº›é—®é¢˜,å°¤å…¶æ˜¯vertx shaderå‘fragmeng shaderä¼ å€¼çš„æ—¶å€™. æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>invariant</code> å…³é”®å­—æ¥æ˜¾å¼è¦æ±‚è®¡ç®—ç»“æœå¿…é¡»ç²¾ç¡®ä¸€è‡´. å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä½¿ç”¨ <code>#pragma STDGL invariant(all)</code>æ¥å‘½ä»¤æ‰€æœ‰è¾“å‡ºå˜é‡å¿…é¡»ç²¾ç¡®ä¸€è‡´, ä½†è¿™æ ·ä¼šé™åˆ¶ç¼–è¯‘å™¨ä¼˜åŒ–ç¨‹åº¦,é™ä½æ€§èƒ½.</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#pragma</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> STDGL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invariant</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //æ‰€æœ‰è¾“å‡ºå˜é‡ä¸º invariant</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">invariant varying texCoord;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //varyingåœ¨ä¼ é€’æ•°æ®çš„æ—¶å€™å£°æ˜ä¸ºinvariant</span></span></code></pre></div><p><strong>é™å®šç¬¦çš„é¡ºåº:</strong></p><p>å½“éœ€è¦ç”¨åˆ°å¤šä¸ªé™å®šç¬¦çš„æ—¶å€™è¦éµå¾ªä»¥ä¸‹é¡ºåº:</p><p>1.åœ¨ä¸€èˆ¬å˜é‡ä¸­: invariant &gt; storage &gt; precision</p><p>2.åœ¨å‚æ•°ä¸­: storage &gt; parameter &gt; precision</p><p>æˆ‘ä»¬æ¥ä¸¾ä¾‹è¯´æ˜:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">invariant varying lowp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> color;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // invariant &gt; storage &gt; precision</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doubleSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> in</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lowp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //storage &gt; parameter &gt; precision</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="é¢„ç¼–è¯‘æŒ‡ä»¤" tabindex="-1">é¢„ç¼–è¯‘æŒ‡ä»¤: <a class="header-anchor" href="#é¢„ç¼–è¯‘æŒ‡ä»¤" aria-label="Permalink to &quot;é¢„ç¼–è¯‘æŒ‡ä»¤:&quot;">â€‹</a></h2><p>ä»¥ # å¼€å¤´çš„æ˜¯é¢„ç¼–è¯‘æŒ‡ä»¤,å¸¸ç”¨çš„æœ‰:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#define #undef #if #ifdef #ifndef #else</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #endif #error #pragma #extension #version #line</span></span></code></pre></div><p>æ¯”å¦‚ <strong>#version 100</strong> ä»–çš„æ„æ€æ˜¯è§„å®šå½“å‰shaderä½¿ç”¨ GLSL ES 1.00æ ‡å‡†è¿›è¡Œç¼–è¯‘,å¦‚æœä½¿ç”¨è¿™æ¡é¢„ç¼–è¯‘æŒ‡ä»¤,åˆ™ä»–å¿…é¡»å‡ºç°åœ¨ç¨‹åºçš„æœ€å¼€å§‹ä½ç½®.</p><p><strong>å†…ç½®çš„å®:</strong></p><p><code>__LINE__</code> : å½“å‰æºç ä¸­çš„è¡Œå·.</p><p><code>__VERSION__</code> : ä¸€ä¸ªæ•´æ•°,æŒ‡ç¤ºå½“å‰çš„glslç‰ˆæœ¬ æ¯”å¦‚ 100 ps: 100 = v1.00</p><p><code>GL_ES</code> : å¦‚æœå½“å‰æ˜¯åœ¨ OPGL ES ç¯å¢ƒä¸­è¿è¡Œåˆ™ GL_ES è¢«è®¾ç½®æˆ1,ä¸€èˆ¬ç”¨æ¥æ£€æŸ¥å½“å‰ç¯å¢ƒæ˜¯ä¸æ˜¯ OPENGL ES.</p><p><code>GL_FRAGMENT_PRECISION_HIGH</code> : å¦‚æœå½“å‰ç³»ç»Ÿglslçš„ç‰‡å…ƒç€è‰²å™¨æ”¯æŒé«˜æµ®ç‚¹ç²¾åº¦,åˆ™è®¾ç½®ä¸º1.ä¸€èˆ¬ç”¨äºæ£€æŸ¥ç€è‰²å™¨ç²¾åº¦.</p><p>å®ä¾‹:</p><p>1.å¦‚ä½•é€šè¿‡åˆ¤æ–­ç³»ç»Ÿç¯å¢ƒ,æ¥é€‰æ‹©åˆé€‚çš„ç²¾åº¦:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#ifdef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GL_ES</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#ifdef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GL_FRAGMENT_PRECISION_HIGH</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">precision highp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">precision mediump </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#endif</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#endif</span></span></code></pre></div><p>2.è‡ªå®šä¹‰å®:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NUM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#endif</span></span></code></pre></div><h2 id="å†…ç½®çš„ç‰¹æ®Šå˜é‡" tabindex="-1">å†…ç½®çš„ç‰¹æ®Šå˜é‡ <a class="header-anchor" href="#å†…ç½®çš„ç‰¹æ®Šå˜é‡" aria-label="Permalink to &quot;å†…ç½®çš„ç‰¹æ®Šå˜é‡&quot;">â€‹</a></h2><p>glslç¨‹åºä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„å†…ç½®å˜é‡ä¸ç¡¬ä»¶è¿›è¡Œæ²Ÿé€š.ä»–ä»¬å¤§è‡´åˆ†æˆä¸¤ç§ ä¸€ç§æ˜¯ <code>input</code>ç±»å‹,ä»–è´Ÿè´£å‘ç¡¬ä»¶(æ¸²æŸ“ç®¡çº¿)å‘é€æ•°æ®. å¦ä¸€ç§æ˜¯<code>output</code>ç±»å‹,è´Ÿè´£å‘ç¨‹åºå›ä¼ æ•°æ®,ä»¥ä¾¿ç¼–ç¨‹æ—¶éœ€è¦.</p><p><strong>åœ¨ vertex Shader ä¸­:</strong></p><p>output ç±»å‹çš„å†…ç½®å˜é‡:</p><table tabindex="0"><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th><th>å•ä½</th></tr></thead><tbody><tr><td>highp vec4 <code>gl_Position</code>;</td><td>gl_Position æ”¾ç½®é¡¶ç‚¹åæ ‡ä¿¡æ¯</td><td>vec4</td></tr><tr><td>mediump float <code>gl_PointSize</code>;</td><td>gl_PointSize éœ€è¦ç»˜åˆ¶ç‚¹çš„å¤§å°,(åªåœ¨gl.POINTSæ¨¡å¼ä¸‹æœ‰æ•ˆ)</td><td>float</td></tr></tbody></table><p><strong>åœ¨ fragment Shader ä¸­:</strong></p><p>input ç±»å‹çš„å†…ç½®å˜é‡:</p><table tabindex="0"><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th><th>å•ä½</th></tr></thead><tbody><tr><td>mediump vec4 <code>gl_FragCoord</code>;</td><td>ç‰‡å…ƒåœ¨framebufferç”»é¢çš„ç›¸å¯¹ä½ç½®</td><td>vec4</td></tr><tr><td>bool <code>gl_FrontFacing</code>;</td><td>æ ‡å¿—å½“å‰å›¾å…ƒæ˜¯ä¸æ˜¯æ­£é¢å›¾å…ƒçš„ä¸€éƒ¨åˆ†</td><td>bool</td></tr><tr><td>mediump vec2 <code>gl_PointCoord</code>;</td><td>ç»è¿‡æ’å€¼è®¡ç®—åçš„çº¹ç†åæ ‡,ç‚¹çš„èŒƒå›´æ˜¯0.0åˆ°1.0</td><td>vec2</td></tr></tbody></table><p>output ç±»å‹çš„å†…ç½®å˜é‡:</p><table tabindex="0"><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th><th>å•ä½</th></tr></thead><tbody><tr><td>mediump vec4 <code>gl_FragColor</code>;</td><td>è®¾ç½®å½“å‰ç‰‡ç‚¹çš„é¢œè‰²</td><td>vec4 RGBA color</td></tr><tr><td>mediump vec4 <code>gl_FragData[n]</code></td><td>è®¾ç½®å½“å‰ç‰‡ç‚¹çš„é¢œè‰²,ä½¿ç”¨glDrawBuffersæ•°æ®æ•°ç»„</td><td>vec4 RGBA color</td></tr></tbody></table><h2 id="å†…ç½®çš„å¸¸é‡" tabindex="-1">å†…ç½®çš„å¸¸é‡ <a class="header-anchor" href="#å†…ç½®çš„å¸¸é‡" aria-label="Permalink to &quot;å†…ç½®çš„å¸¸é‡&quot;">â€‹</a></h2><p>glslæä¾›äº†ä¸€äº›å†…ç½®çš„å¸¸é‡,ç”¨æ¥è¯´æ˜å½“å‰ç³»ç»Ÿçš„ä¸€äº›ç‰¹æ€§. æœ‰æ—¶æˆ‘ä»¬éœ€è¦é’ˆå¯¹è¿™äº›ç‰¹æ€§,å¯¹shaderç¨‹åºè¿›è¡Œä¼˜åŒ–,è®©ç¨‹åºå…¼å®¹åº¦æ›´å¥½.</p><p><strong>åœ¨ vertex Shader ä¸­:</strong></p><p>1.const mediump int <code>gl_MaxVertexAttribs</code>&gt;=8</p><p>gl_MaxVertexAttribs è¡¨ç¤ºåœ¨vertex shader(é¡¶ç‚¹ç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§attributesæ•°.è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°, ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 8 ä¸ª.</p><p>2.const mediump int <code>gl_MaxVertexUniformVectors</code> &gt;= 128</p><p>gl_MaxVertexUniformVectors è¡¨ç¤ºåœ¨vertex shader(é¡¶ç‚¹ç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§uniform vectorsæ•°. è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°, ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 128 ä¸ª.</p><p>3.const mediump int <code>gl_MaxVaryingVectors</code> &gt;= 8</p><p>gl_MaxVaryingVectors è¡¨ç¤ºåœ¨vertex shader(é¡¶ç‚¹ç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§varying vectorsæ•°. è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°, ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 8 ä¸ª.</p><p>4.const mediump int <code>gl_MaxVertexTextureImageUnits</code> &gt;= 0</p><p>gl_MaxVaryingVectors è¡¨ç¤ºåœ¨vertex shader(é¡¶ç‚¹ç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§çº¹ç†å•å…ƒæ•°(è´´å›¾). è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°, ç”šè‡³å¯ä»¥ä¸€ä¸ªéƒ½æ²¡æœ‰(æ— æ³•è·å–é¡¶ç‚¹çº¹ç†)</p><p>5.const mediump int <code>gl_MaxCombinedTextureImageUnits</code> &gt;= 8</p><p>gl_MaxVaryingVectors è¡¨ç¤ºåœ¨ vertex Shaderå’Œfragment Shaderæ€»å…±æœ€å¤šæ”¯æŒå¤šå°‘ä¸ªçº¹ç†å•å…ƒ. è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°, ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 8 ä¸ª.</p><p><strong>åœ¨ fragment Shader ä¸­:</strong></p><p>1.const mediump int <code>gl_MaxTextureImageUnits</code> &gt;= 8</p><p>gl_MaxVaryingVectors è¡¨ç¤ºåœ¨ fragment Shader(ç‰‡å…ƒç€è‰²å™¨)ä¸­èƒ½è®¿é—®çš„æœ€å¤§çº¹ç†å•å…ƒæ•°,è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°, ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 8 ä¸ª.</p><p>2.const mediump int <code>gl_MaxFragmentUniformVectors</code> &gt;= 16</p><p>gl_MaxFragmentUniformVectors è¡¨ç¤ºåœ¨ fragment Shader(ç‰‡å…ƒç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§uniform vectorsæ•°,è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°, ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 16 ä¸ª.</p><p>3.const mediump int <code>gl_MaxDrawBuffers</code> = 1</p><p>gl_MaxDrawBuffers è¡¨ç¤ºå¯ç”¨çš„drawBuffersæ•°,åœ¨OpenGL ES 2.0ä¸­è¿™ä¸ªå€¼ä¸º1, åœ¨å°†æ¥çš„ç‰ˆæœ¬å¯èƒ½ä¼šæœ‰æ‰€å˜åŒ–.</p><p>glslä¸­è¿˜æœ‰ä¸€ç§å†…ç½®çš„uniformçŠ¶æ€å˜é‡, <code>gl_DepthRange</code> å®ƒç”¨æ¥è¡¨æ˜å…¨å±€æ·±åº¦èŒƒå›´.</p><p>ç»“æ„å¦‚ä¸‹:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gl_DepthRangeParameters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> highp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> near;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // n</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> highp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> far;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // f</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> highp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> diff;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // f - n</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uniform gl_DepthRangeParameters gl_DepthRange;</span></span></code></pre></div><p>é™¤äº† gl_DepthRange å¤–çš„æ‰€æœ‰uniformçŠ¶æ€å¸¸é‡éƒ½å·²åœ¨glsl 1.30 ä¸­<code>åºŸå¼ƒ</code>.</p><h2 id="æµæ§åˆ¶" tabindex="-1">æµæ§åˆ¶ <a class="header-anchor" href="#æµæ§åˆ¶" aria-label="Permalink to &quot;æµæ§åˆ¶&quot;">â€‹</a></h2><p>glslçš„æµæ§åˆ¶å’Œcè¯­è¨€éå¸¸ç›¸ä¼¼,è¿™é‡Œä¸å¿…å†åšè¿‡å¤šè¯´æ˜,å”¯ä¸€ä¸åŒçš„æ˜¯ç‰‡æ®µç€è‰²å™¨ä¸­æœ‰ä¸€ç§ç‰¹æ®Šçš„æ§åˆ¶æµ<code>discard</code>. ä½¿ç”¨discardä¼šé€€å‡ºç‰‡æ®µç€è‰²å™¨ï¼Œä¸æ‰§è¡Œåé¢çš„ç‰‡æ®µç€è‰²æ“ä½œã€‚ç‰‡æ®µä¹Ÿä¸ä¼šå†™å…¥å¸§ç¼“å†²åŒºã€‚</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numLights; l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lightExists[l]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        continue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> light[l];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> color[i];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> light[lightNum];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lightNum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (lightNum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    discard;</span></span></code></pre></div><h2 id="å†…ç½®å‡½æ•°åº“" tabindex="-1">å†…ç½®å‡½æ•°åº“ <a class="header-anchor" href="#å†…ç½®å‡½æ•°åº“" aria-label="Permalink to &quot;å†…ç½®å‡½æ•°åº“&quot;">â€‹</a></h2><p>glslæä¾›äº†éå¸¸ä¸°å¯Œçš„å‡½æ•°åº“,ä¾›æˆ‘ä»¬ä½¿ç”¨,è¿™äº›åŠŸèƒ½éƒ½æ˜¯éå¸¸æœ‰ç”¨ä¸”ä¼šç»å¸¸ç”¨åˆ°çš„. è¿™äº›å‡½æ•°æŒ‰åŠŸèƒ½åŒºåˆ†å¤§æ”¹å¯ä»¥åˆ†æˆ7ç±»:</p><p><strong>é€šç”¨å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ float, vec2, vec3, vec4,ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>T abs(T x)</td><td>è¿”å›xçš„ç»å¯¹å€¼</td></tr><tr><td>T sign(T x)</td><td>æ¯”è¾ƒxä¸0çš„å€¼,å¤§äº,ç­‰äº,å°äº åˆ†åˆ«è¿”å› 1.0 ,0.0,-1.0</td></tr><tr><td>T floor(T x)</td><td>è¿”å›&lt;=xçš„æœ€å¤§æ•´æ•°</td></tr><tr><td>T ceil(T x)</td><td>è¿”å›&gt;=ç­‰äºxçš„æœ€å°æ•´æ•°</td></tr><tr><td>T fract(T x)</td><td>è·å–xçš„å°æ•°éƒ¨åˆ†</td></tr><tr><td>T mod(T x, T y) <br> T mod(T x, float y)</td><td>å–x,yçš„ä½™æ•°</td></tr><tr><td>T min(T x, T y) <br> T min(T x, float y)</td><td>å–x,yçš„æœ€å°å€¼</td></tr><tr><td>T max(T x, T y) <br> T max(T x, float y)</td><td>å–x,yçš„æœ€å¤§å€¼</td></tr><tr><td>T clamp(T x, T minVal, T maxVal) <br>T clamp(T x, float minVal,float maxVal)</td><td>min(max(x, minVal), maxVal),è¿”å›å€¼è¢«é™å®šåœ¨ minVal,maxValä¹‹é—´</td></tr><tr><td>T mix(T x, T y, T a) <br> T mix(T x, T y, float a)</td><td>å–x,yçš„çº¿æ€§æ··åˆ,x*(1-a)+y*a</td></tr><tr><td>T step(T edge, T x) <br> T step(float edge, T x)</td><td>å¦‚æœ x&lt;edge è¿”å› 0.0 å¦åˆ™è¿”å›1.0</td></tr><tr><td>T smoothstep(T edge0, T edge1, T x) <br> T smoothstep(float edge0,float edge1, T x)</td><td>å¦‚æœx&lt;edge0 è¿”å› 0.0 å¦‚æœx&gt;edge1è¿”å›1.0, å¦åˆ™è¿”å›Hermiteæ’å€¼</td></tr></tbody></table><p><strong>è§’åº¦&amp;ä¸‰è§’å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ float, vec2, vec3, vec4,ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>T radians(T degrees)</td><td>è§’åº¦è½¬å¼§åº¦</td></tr><tr><td>T degrees(T radians)</td><td>å¼§åº¦è½¬è§’åº¦</td></tr><tr><td>T sin(T angle)</td><td>æ­£å¼¦å‡½æ•°,è§’åº¦æ˜¯å¼§åº¦</td></tr><tr><td>T cos(T angle)</td><td>ä½™å¼¦å‡½æ•°,è§’åº¦æ˜¯å¼§åº¦</td></tr><tr><td>T tan(T angle)</td><td>æ­£åˆ‡å‡½æ•°,è§’åº¦æ˜¯å¼§åº¦</td></tr><tr><td>T asin(T x)</td><td>åæ­£å¼¦å‡½æ•°,è¿”å›å€¼æ˜¯å¼§åº¦</td></tr><tr><td>T acos(T x)</td><td>åä½™å¼¦å‡½æ•°,è¿”å›å€¼æ˜¯å¼§åº¦</td></tr><tr><td>T atan(T y, T x)<br> T atan(T y_over_x)</td><td>åæ­£åˆ‡å‡½æ•°,è¿”å›å€¼æ˜¯å¼§åº¦</td></tr></tbody></table><p><strong>æŒ‡æ•°å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ float, vec2, vec3, vec4,ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>T pow(T x, T y)</td><td>è¿”å›xçš„yæ¬¡å¹‚ x<sub>y</sub></td></tr><tr><td>T exp(T x)</td><td>è¿”å›xçš„è‡ªç„¶æŒ‡æ•°å¹‚ e<sub>x</sub></td></tr><tr><td>T log(T x)</td><td>è¿”å›xçš„è‡ªç„¶å¯¹æ•° ln</td></tr><tr><td>T exp2(T x)</td><td>è¿”å›2çš„xæ¬¡å¹‚ 2<sub>x</sub></td></tr><tr><td>T log2(T x)</td><td>è¿”å›2ä¸ºåº•çš„å¯¹æ•° log2</td></tr><tr><td>T sqrt(T x)</td><td>å¼€æ ¹å· âˆšx</td></tr><tr><td>T inversesqrt(T x)</td><td>å…ˆå¼€æ ¹å·,åœ¨å–å€’æ•°,å°±æ˜¯ 1/âˆšx</td></tr></tbody></table><p><strong>å‡ ä½•å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ float, vec2, vec3, vec4,ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>float length(T x)</td><td>è¿”å›çŸ¢é‡xçš„é•¿åº¦</td></tr><tr><td>float distance(T p0, T p1)</td><td>è¿”å›p0 p1ä¸¤ç‚¹çš„è·ç¦»</td></tr><tr><td>float dot(T x, T y)</td><td>è¿”å›x yçš„ç‚¹ç§¯</td></tr><tr><td>vec3 cross(vec3 x, vec3 y)</td><td>è¿”å›x yçš„å‰ç§¯</td></tr><tr><td>T normalize(T x)</td><td>å¯¹xè¿›è¡Œå½’ä¸€åŒ–,ä¿æŒå‘é‡æ–¹å‘ä¸å˜ä½†é•¿åº¦å˜ä¸º1</td></tr><tr><td>T faceforward(T N, T I, T Nref)</td><td>æ ¹æ® çŸ¢é‡ N ä¸Nref è°ƒæ•´æ³•å‘é‡</td></tr><tr><td>T reflect(T I, T N)</td><td>è¿”å› I - 2 * dot(N,I) * N, ç»“æœæ˜¯å…¥å°„çŸ¢é‡ I å…³äºæ³•å‘é‡Nçš„ é•œé¢åå°„çŸ¢é‡</td></tr><tr><td>T refract(T I, T N, float eta)</td><td>è¿”å›å…¥å°„çŸ¢é‡Iå…³äºæ³•å‘é‡Nçš„æŠ˜å°„çŸ¢é‡,æŠ˜å°„ç‡ä¸ºeta</td></tr></tbody></table><p><strong>çŸ©é˜µå‡½æ•°:</strong></p><p>matå¯ä»¥ä¸ºä»»æ„ç±»å‹çŸ©é˜µ.</p><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>mat matrixCompMult(mat x, mat y)</td><td>å°†çŸ©é˜µ x å’Œ yçš„å…ƒç´ é€åˆ†é‡ç›¸ä¹˜</td></tr></tbody></table><p><strong>å‘é‡å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ vec2, vec3, vec4, ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><p>bvecæŒ‡çš„æ˜¯ç”±boolç±»å‹ç»„æˆçš„ä¸€ä¸ªå‘é‡:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 v3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vec3 v3_1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vec3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bvec3 aa</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lessThan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v3,v3_1);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //bvec3(true,true,true)</span></span></code></pre></div><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>bvec lessThan(T x, T y)</td><td>é€åˆ†é‡æ¯”è¾ƒx &lt; y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec lessThanEqual(T x, T y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x &lt;= y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec greaterThan(T x, T y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x &gt; y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec greaterThanEqual(T x, T y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x &gt;= y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec equal(T x, T y) <br> bvec equal(bvec x, bvec y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x == y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec notEqual(T x, T y) <br> bvec notEqual(bvec x, bvec y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x!= y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bool any(bvec x)</td><td>å¦‚æœxçš„ä»»æ„ä¸€ä¸ªåˆ†é‡æ˜¯true,åˆ™ç»“æœä¸ºtrue</td></tr><tr><td>bool all(bvec x)</td><td>å¦‚æœxçš„æ‰€æœ‰åˆ†é‡æ˜¯true,åˆ™ç»“æœä¸ºtrue</td></tr><tr><td>bvec not(bvec x)</td><td>boolçŸ¢é‡çš„é€åˆ†é‡å–å</td></tr></tbody></table><p><strong>çº¹ç†æŸ¥è¯¢å‡½æ•°:</strong></p><p>å›¾åƒçº¹ç†æœ‰ä¸¤ç§ ä¸€ç§æ˜¯å¹³é¢2dçº¹ç†,å¦ä¸€ç§æ˜¯ç›’çº¹ç†,é’ˆå¯¹ä¸åŒçš„çº¹ç†ç±»å‹æœ‰ä¸åŒè®¿é—®æ–¹æ³•.</p><p>çº¹ç†æŸ¥è¯¢çš„æœ€ç»ˆç›®çš„æ˜¯ä»samplerä¸­æå–æŒ‡å®šåæ ‡çš„é¢œè‰²ä¿¡æ¯. å‡½æ•°ä¸­å¸¦æœ‰Cubeå­—æ ·çš„æ˜¯æŒ‡ éœ€è¦ä¼ å…¥ç›’çŠ¶çº¹ç†. å¸¦æœ‰Projå­—æ ·çš„æ˜¯æŒ‡å¸¦æŠ•å½±çš„ç‰ˆæœ¬.</p><p>ä»¥ä¸‹å‡½æ•°åªåœ¨vertex shaderä¸­å¯ç”¨:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2DLod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec2</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> lod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2DProjLod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> lod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2DProjLod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> lod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> textureCubeLod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">samplerCube</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> lod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>ä»¥ä¸‹å‡½æ•°åªåœ¨fragment shaderä¸­å¯ç”¨:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec2</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> bias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2DProj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> bias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2DProj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> bias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> textureCube</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">samplerCube</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> bias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>åœ¨ vertex shader ä¸ fragment shader ä¸­éƒ½å¯ç”¨:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec2</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2DProj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2DProj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sampler2D</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> textureCube</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">samplerCube</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> sampler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec3</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> coord</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="å®˜æ–¹çš„shaderèŒƒä¾‹" tabindex="-1">å®˜æ–¹çš„shaderèŒƒä¾‹: <a class="header-anchor" href="#å®˜æ–¹çš„shaderèŒƒä¾‹" aria-label="Permalink to &quot;å®˜æ–¹çš„shaderèŒƒä¾‹:&quot;">â€‹</a></h2><p>ä¸‹é¢çš„shaderå¦‚æœä½ å¯ä»¥ä¸€çœ¼çœ‹æ‡‚,è¯´æ˜ä½ å·²ç»å¯¹glslè¯­è¨€åŸºæœ¬æŒæ¡äº†.</p><p><strong>Vertex Shader:</strong></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uniform mat4 mvp_matrix;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //é€è§†çŸ©é˜µ * è§†å›¾çŸ©é˜µ * æ¨¡å‹å˜æ¢çŸ©é˜µ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uniform mat3 normal_matrix;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //æ³•çº¿å˜æ¢çŸ©é˜µ(ç”¨äºç‰©ä½“å˜æ¢åæ³•çº¿è·Ÿç€å˜æ¢)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uniform vec3 ec_light_dir;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //å…‰ç…§æ–¹å‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">attribute vec4 a_vertex;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // é¡¶ç‚¹åæ ‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">attribute vec3 a_normal;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //é¡¶ç‚¹æ³•çº¿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">attribute vec2 a_texcoord;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //çº¹ç†åæ ‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">varying </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v_diffuse;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //æ³•çº¿ä¸å…¥å°„å…‰çš„å¤¹è§’</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">varying vec2 v_texcoord;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //2dçº¹ç†åæ ‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //å½’ä¸€åŒ–æ³•çº¿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vec3 ec_normal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> normalize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(normal_matrix </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a_normal);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //v_diffuse æ˜¯æ³•çº¿ä¸å…‰ç…§çš„å¤¹è§’.æ ¹æ®å‘é‡ç‚¹ä¹˜æ³•åˆ™,å½“ä¸¤å‘é‡é•¿åº¦ä¸º1æ˜¯ ä¹˜ç§¯å³cosÎ¸å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v_diffuse </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ec_light_dir, ec_normal), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v_texcoord </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a_texcoord;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_Position </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> mvp_matrix </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a_vertex;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Fragment Shader:</strong></p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">precision mediump </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uniform sampler2D t_reflectance;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uniform vec4 i_ambient;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">varying </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v_diffuse;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">varying vec2 v_texcoord;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vec4 color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> texture2D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t_reflectance, v_texcoord);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //è¿™é‡Œåˆ†è§£å¼€æ¥æ˜¯ color*vec3(1,1,1)*v_diffuse + color*i_ambient</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //è‰²*å…‰*å¤¹è§’cos + è‰²*ç¯å¢ƒå…‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gl_FragColor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> color</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vec4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v_diffuse) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i_ambient);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><!----><p class="copyright" data-v-566314d4><img src="https://visitor-badge.laobi.icu/badge?page_id=z2586300277" style="float:left" > ç‰ˆæƒæ‰€æœ‰ Â©2019-2026 ä¼˜é›…æ°¸ä¸è¿‡æ—¶ </p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"f12.md\":\"CAXnBsiR\",\"glsl.md\":\"Ca76KJ6h\",\"index.md\":\"BSJfppa_\",\"message.md\":\"B7xhEhEy\",\"nav.md\":\"DnYhZbSM\",\"personalcode.md\":\"KCiyaS5F\",\"readme.md\":\"1CH2Lmzk\",\"resource.md\":\"CbnGkBHI\",\"shader.md\":\"BDjNRX1q\",\"sponsor.md\":\"Cs57BOFb\",\"workflow.md\":\"C2_sqmv6\",\"works.md\":\"CmF8qFle\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ä¼˜é›…æ°¸ä¸è¿‡æ—¶\",\"description\":\"ä¼˜é›…æ°¸ä¸è¿‡æ—¶çš„ä¸ªäººä¸»é¡µ\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"https://z2586300277.github.io/site.png\",\"nav\":[{\"text\":\"ç•™è¨€ğŸ“\",\"link\":\"/message.md\"},{\"text\":\"3Då±•ç¤ºğŸ‚\",\"link\":\"/works.md\"},{\"text\":\"èµèµğŸ‘\",\"link\":\"/sponsor.md\"},{\"text\":\"äºŒç»´ç ğŸ“±\",\"link\":\"/personalCode.md\"},{\"text\":\"èµ„æºğŸ’™\",\"link\":\"/resource.md\"},{\"text\":\"é—²é±¼ğŸŸ\",\"link\":\"https://www.goofish.com/personal?userId=2885508577\"},{\"text\":\"æ·˜å®ğŸ¸\",\"link\":\"https://z2586300277.taobao.com/\"},{\"text\":\"GiteeğŸ³\",\"link\":\"https://gitee.com/zhang-jingguang\"},{\"text\":\"BiBiğŸ“º\",\"link\":\"https://space.bilibili.com/245165721\"},{\"text\":\"CSDNğŸ“˜\",\"link\":\"https://blog.csdn.net/guang2586\"}],\"footer\":{\"copyright\":\"<img src=\\\"https://visitor-badge.laobi.icu/badge?page_id=z2586300277\\\" style=\\\"float:left\\\" > ç‰ˆæƒæ‰€æœ‰ Â©2019-2026 ä¼˜é›…æ°¸ä¸è¿‡æ—¶ \"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/z2586300277\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>